<div class="container">

    <button class="btn btn-primary btn-block" (click)="exportHtmlToPDF()">Descargar PDF</button>
  
    <div class="container-fluid" id="htmltable" #htmltable>      
        <table width="90%" border="0" cellspacing="0" cellpadding="0">
            <tr>
                <td style="vertical-align:middle; text-align:center" width="20%"><img align="center" width="130px" height="80px" src="../../../assets/logo.jpg"></td>
                <th width="90%">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                        <tr>
                            <td align="center"><h5><em><strong>GERENCIA DE TALENTO HUMANO</strong></em></h5></td>
                        </tr>
                        <tr>
                            <td align="center"><h4><em><strong>Depto. de Higiene y Seguridad Industrial</strong></em></h4></td>
                        </tr>
                        <tr>
                            <td align="center"><h3><em><strong>Servicio Medico Ocupacional</strong></em></h3></td>
                        </tr>
                    </table>
                </th>
            </tr>
        </table>
        <table class="table table-bordered table-sm" width="90%" >
            <tr bgcolor="#F0ECEC">
                <th width="15%">FECHA</th>
                <th width="65%">APELLIDO Y NOMBRE DEL SOLICITANTE</th>
                <th width="30%">CEDULA</th>
            </tr>
            <tr>
                <td>{{ vConsulta.fecha | date:'dd/MM/yyyy' }}</td>
                <td>{{ vConsulta.nombre_completo }}</td>
                <td>{{ vConsulta.ci }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th width="15%">TURNO</th>
                <th width="65%">CARGO</th>
                <th width="30%">FIRMA</th>
            </tr>
            <tr>
                <td >{{ vConsulta.turno }}</td>
                <td>{{ vConsulta.cargo }}</td>
                <td></td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th width="35%">GERENCIA</th>
                <th width="45%">DEPARTAMENTO</th>
                <th width="30%">CONTRATISTA</th>
            </tr>
            <tr>
                <td  height="30px">{{ vConsulta.gcia }}</td>
                <td>{{ vConsulta.departamento }}</td>
                <td>{{ vConsulta.contratista }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th width="55%">APELLIDOS Y NOMBRE DEL SUPERVISOR</th>
                <th width="25%">CEDULA SUPERVISOR</th>
                <th width="30%">CONDICION TRABAJADOR</th>
            </tr>
            <tr>
                <td  height="30px">{{  vMorbilidad.nombres_jefe }}</td>
                <td>{{  vMorbilidad.supervisor }}</td>
                <td>{{ vConsulta.condicion }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th width="35%">MOTIVO</th>
                <th width="45%">REFERIDO A</th>
                <th width="30%">REPOSO</th>
            </tr>
            <tr>
                <td height="30px">{{ vConsulta.motivo }}</td>
                <td>{{ vConsulta.remitido }}</td>
                <td>{{ vConsulta.reposo }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th colspan="3" width="110%">ENFERMEDAD ACTUAL</th>
            </tr>
            <tr>
                <td colspan="3"  height="30px">{{ vConsulta.observaciones }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th colspan="3" width="110%">MOTIVO DE LA CONSULTA</th>
            </tr>
            <tr>
                <td colspan="3" height="30px">{{ vConsulta.sintomas }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th colspan="3" width="110%">PATOLOGIA</th>
            </tr>
            <tr>
                <td colspan="3" height="30px">{{ vConsulta.patologia }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th colspan="3" width="110%">DIAGNOSTICO</th>
            </tr>
            <tr>
                <td colspan="3" height="30px">{{ vConsulta.resultado_eva }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th colspan="3" width="110%">EVALUACION MEDICA</th>
            </tr>
            <tr>
                <th colspan="3" height="30px">F. Resp.: {{ signoVital.fresp }};&nbsp;&nbsp;&nbsp;&nbsp;Pulso: {{ signoVital.pulso }};&nbsp;&nbsp;&nbsp;&nbsp;Temp.: {{ signoVital.temper }};&nbsp;&nbsp;&nbsp;&nbsp;Talla: {{ antropometria.talla }};&nbsp;&nbsp;&nbsp;&nbsp;Peso: {{ antropometria.peso }};&nbsp;&nbsp;&nbsp;&nbsp;T. Art.: {{ signoVital.tart }};&nbsp;&nbsp;&nbsp;&nbsp;F. Card.: {{ signoVital.fcard }};&nbsp;&nbsp;&nbsp;&nbsp;IMC: {{ antropometria.imc }};&nbsp;&nbsp;&nbsp;&nbsp;</th>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th colspan="3" width="110%">OBSERVACION</th>
            </tr>
            <tr>
                <td colspan="3" height="30px">{{ vConsulta.observacion_medicamentos }}</td>
            </tr>
            <tr bgcolor="#F0ECEC">
                <th colspan="3" width="110%">REFERENCIA MEDICA</th>
            </tr>
            <tr>
                <td colspan="3" height="30px">{{ vConsulta.referencia_medica }}</td>
            </tr>            
            
            <tr *ngIf="countMedicamentos != undefined && countMedicamentos != 0" bgcolor="#F0ECEC">
                <th colspan="3" width="110%">MEDICAMENTOS ADMINISTRADOS</th>
            </tr>
        
            <tr *ngIf="countMedicamentos != undefined && countMedicamentos != 0" bgcolor="#F0ECEC">
                <th width="35%">MEDICAMENTO</th>
                <th width="45%">UNIDAD/MEDIDA</th>
                <th width="30%">CANTIDAD</th>
            </tr>
            
            <tr *ngFor="let medA of medicamentoAplicado.medicamentos; let j=index">
                <td>{{ medA.medicamento.descripcion }}</td>
                <td>{{ medA.medidas }}</td>
                <td>{{ medA.cantidad }}</td>
            </tr>
            <tr *ngIf="vConsulta.observacion_medicamentos != undefined && vConsulta.observacion_medicamentos != ''" >
                <th colspan="3" width="110%">OBSERVACIÓN (MEDICAMENTOS)</th>
            </tr>
		    <tr *ngIf="vConsulta.observacion_medicamentos != undefined && vConsulta.observacion_medicamentos != ''" bgcolor="#F0ECEC">
                <td colspan="3" height="30px">{{ vConsulta.observacion_medicamentos }}</td>
            </tr>
        </table>            

        <div class="container">
            <div class="row align-items-start">
                <div *ngIf="vConsulta.medico != undefined && vConsulta.medico != ''" class="col">
                    <strong>MÉDICO DE GUARDIA</strong>
                </div>                          
                <div *ngIf="vConsulta.paramedico != undefined && vConsulta.paramedico != ''" class="col">
                    <strong>PARAMÉDICO/ENFERMERO(A) DE GUARDIA</strong>
                </div>
            </div>
            <div class="row align-items-start">
                <div *ngIf="vConsulta.medico != undefined && vConsulta.medico != ''" class="col">
                    {{ vConsulta.medico }}
                </div>                          
                <div *ngIf="vConsulta.paramedico != undefined && vConsulta.paramedico != ''" class="col">
                    {{ vConsulta.paramedico }}
                </div>
            </div>
            <div class="row align-items-start">
                <div class="col">
                    <font color="#F0ECEC">FIRMA</font>
                </div>                          
                <div class="col">
                    <font color="#F0ECEC">FIRMA</font>
                </div>
            </div>
        </div>            
        
    </div>
  
  </div>