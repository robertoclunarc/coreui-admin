<div class="card">
    <div class="card-header">
      <strong>Evaluacion Fisica</strong> Metabolico/Cadiovascular
    </div>
    <div class="card-body">
      <form action="" method="post" class="form-horizontal">
        <tabset> 
          <tab>
            <ng-template tabHeading><i class="icon-user"></i> Datos Generales &nbsp;</ng-template>          
            <div class="col-lg-12">
              <div class="card">              
                <div class="card-body">
                  
                  <div class="row">
                    
                    <div class="col-md-6">
                      <div class="input-group">                            
                        <span class="input-group-prepend">
                        <button [disabled]="soloLectura" type="button"                                      
                            (click)="buscarPaciente()"                      
                            class="btn btn-primary btn-sm">
                            <i class="fa fa-search"></i> 
                            Paciente
                          </button>
                        </span>
                        <input type="text" id="txtCi" name="txtCi" [(ngModel)]="protocoloObj.paciente.ci" [disabled]="soloLectura" (keyup.enter)="buscarPaciente()" class="form-control form-control-sm" placeholder="Cedula Trabajador">                    
                      </div>
                    </div> 
                     
                    <div class="col-md-6">  
                      <div class="form-group">
                        <span class="form-group has-float-label">                                                                    
                          <input type="text" class="form-control form-control-sm" id="txtNombre" name="txtNombre" [(ngModel)]="protocoloObj.paciente.nombre_completo" placeholder="Nombre del Paciente">
                          <label class="badge-light" for="txtNombre">Nombre</label>
                        </span>
                      </div>
                    </div>  
                   
                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <span class="form-group has-float-label">
                          <select  class="form-control form-control-sm" [disabled]="soloLectura" [(ngModel)]="protocoloObj.medico.uid" name="cboMedico"  id="cboMedico">
                            <option *ngFor="let med of selectMedicos" [value]="med.uid">{{med.nombre}}</option>                                                                     
                          </select>
                          <label class="badge-light" for="cboMedico">Medico Evaluador</label>
                        </span>  
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <span class="form-group has-float-label">
                          <input type="text" [disabled]="soloLectura" readonly class="form-control form-control-sm" [(ngModel)]="protocoloObj.protocolo.lugar" name="txtLugar"  id="txtLugar" placeholder="Lugar">
                          <label for="txtLugar">Lugar</label>
                        </span>  
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4">
                      <div class="form-group">
                        <span class="form-group has-float-label">                                
                          <input type="date" class="form-control form-control-sm" [disabled]="soloLectura" name="txtEmision" [(ngModel)]="protocoloObj.protocolo.emision" id="txtEmision">
                          <label for="txtEmision">Fecha Emision</label>
                        </span>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group">
                        <span class="form-group has-float-label">                                
                          <input type="date" class="form-control form-control-sm" [disabled]="soloLectura" name="txtVigencia" [(ngModel)]="protocoloObj.protocolo.vigencia" id="txtVigencia">
                          <label for="txtVigencia">Fecha Vigencia</label>
                        </span>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group">
                        <span class="form-group has-float-label">                                
                          <input type="date" class="form-control form-control-sm" [disabled]="soloLectura" name="txtProximaCita" [(ngModel)]="protocoloObj.protocolo.proxima_cita" id="txtProximaCita">
                          <label for="txtProximaCita">Proxima Cita</label>
                        </span>
                      </div>
                    </div>
                  </div>
                  
                  <div class="row">
                    <div class="col-md-12">
                      <span class="form-group has-float-label">                                  
                        <textarea id="txtDiagnostico" [disabled]="soloLectura" name="txtDiagnostico" [(ngModel)]="protocoloObj.protocolo.diagnostico" rows="2"  class="form-control form-control-sm" placeholder="Dignostico"></textarea>
                        <label for="txtDiagnostico">Diagnostico</label>
                      </span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <span class="form-group has-float-label">                                  
                        <textarea id="txtReferencia" [disabled]="soloLectura" name="txtReferencia" [(ngModel)]="protocoloObj.protocolo.referencia" rows="2"  class="form-control form-control-sm" placeholder="Referencia"></textarea>
                        <label for="txtReferencia">Referencia</label>
                      </span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <span class="form-group has-float-label">                                  
                        <textarea id="txtIndicaciones" [disabled]="soloLectura" name="txtIndicaciones" [(ngModel)]="protocoloObj.protocolo.indicaciones" rows="2"  class="form-control form-control-sm" placeholder="Indicaciones"></textarea>
                        <label for="txtIndicaciones">Indicaciones</label>
                      </span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3">
                      <label><strong>Realizó Educación En Salud:</strong></label>
                    </div>
                    
                      <label>Charla</label>
                      <div class="col-sm-1">                        
                          <label class="switch switch-sm switch-label switch-pill switch-warning" tooltip="Charla?">                    
                            <input [disabled]="soloLectura" type="checkbox" name="chkCharla" id="chkCharla" class="switch-input" [(ngModel)]="protocoloObj.protocolo.charla">
                            <span class="switch-slider" data-checked="&#x2713;" data-unchecked="&#x2715;"></span>
                          </label>                     
                      </div>
                      <label>Boletin</label>
                      <div class="col-sm-1">                      
                        <label class="switch switch-sm switch-label switch-pill switch-warning" tooltip="Boletin?">                    
                          <input [disabled]="soloLectura" type="checkbox" name="chkBoletin" id="chkBoletin" class="switch-input" [(ngModel)]="protocoloObj.protocolo.boletin">
                          <span class="switch-slider" data-checked="&#x2713;" data-unchecked="&#x2715;"></span>
                        </label>
                      </div>
                      <label>Folleto</label> 
                      <div class="col-sm-1">
                        <label class="switch switch-sm switch-label switch-pill switch-warning" tooltip="Folleto?">                    
                          <input [disabled]="soloLectura" type="checkbox" name="chkFolleto" id="chkFolleto" class="switch-input" [(ngModel)]="protocoloObj.protocolo.folleto">
                          <span class="switch-slider" data-checked="&#x2713;" data-unchecked="&#x2715;"></span>
                        </label>
                      </div>                   
                    <div class="col-md-4">
                      <div class="form-group">
                        <span class="form-group has-float-label">                                
                          <input type="text" class="form-control form-control-sm" [disabled]="soloLectura" name="txtOtro" [(ngModel)]="protocoloObj.protocolo.otro" id="txtOtro">
                          <label for="txtOtro">Otro</label>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </tab>

          <tab>
            <ng-template tabHeading><i class="icon-note"></i> Riesgo General &nbsp;</ng-template>          
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">

                  <div *ngFor="let eva of arrayEvaluaciones; let i=index">
                    
                      <div *ngIf="(eva.evaluaciones.tipoindice==1)" class="input-group mb-3">
                        
                        <span class="input-group-text" style="width : 600px" >{{eva.evaluaciones.descripcion_evaluacion}}</span>&nbsp;

                        <label class="switch switch-label switch-pill switch-warning">                    
                          <input [disabled]="soloLectura" type="checkbox" [name]="'chkResp_' + eva.evaluaciones.indice"  class="switch-input" >
                          <span class="switch-slider" data-checked="&#x2713;" data-unchecked="&#x2715;"></span>
                        </label>
                        &nbsp;
                        <div class="form-group">
                          <span class="form-group has-float-label">                                                                    
                            <input type="text" class="form-control form-control-sm" [name]="'obs_' + eva.evaluaciones.indice" placeholder="Observacion">
                            <label class="badge-light" for="'obs_' + eva.evaluaciones.indice">Observacion</label>
                          </span>
                        </div>
                        <!--
                        <div *ngFor="let pos of eva.posibles_resp; let j=index">
                          
                          <div class="input-group-prepend">
                            <span class="input-group-text" style="width : 300px" >{{pos.posible_resp}}</span>
                          </div>
                          <input type="text" placeholder="Respuesta" maxlength="15" [name]="'resp_' + pos.index"  [(ngModel)]="habitosPacientes[i].resp"  class="form-control">                               
                      
                        </div>
                        -->
                      </div>
                    </div>                  

                </div>
              </div>  
            </div>
          </tab> 

        </tabset>  
      </form>
    </div>
    <div class="card-footer">
      
      <button type="button" [disabled]="soloLectura" (click)="guardar()" class="btn btn-sm btn-primary" [popover]="alertaRegistrar" [popoverTitle]="titleRegistrar"><i class="fa fa-dot-circle-o"></i> Guardar</button>
      <button [disabled]="soloLectura" type="submit" class="btn btn-sm btn-danger" (click)="reset()"><i class="fa fa-dot-circle-o"></i> Reset</button>
      <div *ngFor="let alert of alertsDismiss">
        <alert [type]="alert.type" [dismissOnTimeout]="alert.timeout" (onClosed)="onClosed(alert)"><strong>{{ alert.msg }}</strong></alert>                  
      </div>
    </div>
  </div>